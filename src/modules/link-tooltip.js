
var __cov_19ZV2etrLUYU6yJ5xYy27g = (Function('return this'))();
if (!__cov_19ZV2etrLUYU6yJ5xYy27g.__coverage__) { __cov_19ZV2etrLUYU6yJ5xYy27g.__coverage__ = {}; }
__cov_19ZV2etrLUYU6yJ5xYy27g = __cov_19ZV2etrLUYU6yJ5xYy27g.__coverage__;
if (!(__cov_19ZV2etrLUYU6yJ5xYy27g['/home/simon/Rails/quill/quill/lib/modules/link-tooltip.js'])) {
   __cov_19ZV2etrLUYU6yJ5xYy27g['/home/simon/Rails/quill/quill/lib/modules/link-tooltip.js'] = {"path":"/home/simon/Rails/quill/quill/lib/modules/link-tooltip.js","s":{"1":0,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":14},"end":{"line":3,"column":38}}},"2":{"name":"ctor","line":3,"loc":{"start":{"line":3,"column":127},"end":{"line":3,"column":143}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":32}}},"4":{"name":"LinkTooltip","line":33,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":39}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":40},"end":{"line":45,"column":51}}},"6":{"name":"(anonymous_6)","line":46,"loc":{"start":{"line":46,"column":67},"end":{"line":46,"column":83}}},"7":{"name":"(anonymous_7)","line":47,"loc":{"start":{"line":47,"column":13},"end":{"line":47,"column":29}}},"8":{"name":"(anonymous_8)","line":63,"loc":{"start":{"line":63,"column":76},"end":{"line":63,"column":92}}},"9":{"name":"(anonymous_9)","line":64,"loc":{"start":{"line":64,"column":13},"end":{"line":64,"column":24}}},"10":{"name":"(anonymous_10)","line":69,"loc":{"start":{"line":69,"column":47},"end":{"line":69,"column":63}}},"11":{"name":"(anonymous_11)","line":70,"loc":{"start":{"line":70,"column":13},"end":{"line":70,"column":31}}},"12":{"name":"(anonymous_12)","line":76,"loc":{"start":{"line":76,"column":35},"end":{"line":76,"column":46}}},"13":{"name":"(anonymous_13)","line":92,"loc":{"start":{"line":92,"column":34},"end":{"line":92,"column":54}}},"14":{"name":"(anonymous_14)","line":100,"loc":{"start":{"line":100,"column":15},"end":{"line":100,"column":31}}},"15":{"name":"(anonymous_15)","line":101,"loc":{"start":{"line":101,"column":15},"end":{"line":101,"column":26}}},"16":{"name":"(anonymous_16)","line":113,"loc":{"start":{"line":113,"column":38},"end":{"line":113,"column":54}}},"17":{"name":"(anonymous_17)","line":128,"loc":{"start":{"line":128,"column":37},"end":{"line":128,"column":60}}},"18":{"name":"(anonymous_18)","line":142,"loc":{"start":{"line":142,"column":40},"end":{"line":142,"column":54}}},"19":{"name":"(anonymous_19)","line":149,"loc":{"start":{"line":149,"column":38},"end":{"line":149,"column":54}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":290}},"2":{"start":{"line":3,"column":40},"end":{"line":3,"column":126}},"3":{"start":{"line":3,"column":66},"end":{"line":3,"column":124}},"4":{"start":{"line":3,"column":99},"end":{"line":3,"column":124}},"5":{"start":{"line":3,"column":127},"end":{"line":3,"column":172}},"6":{"start":{"line":3,"column":145},"end":{"line":3,"column":170}},"7":{"start":{"line":3,"column":173},"end":{"line":3,"column":207}},"8":{"start":{"line":3,"column":208},"end":{"line":3,"column":237}},"9":{"start":{"line":3,"column":238},"end":{"line":3,"column":273}},"10":{"start":{"line":3,"column":274},"end":{"line":3,"column":287}},"11":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}},"12":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}},"13":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}},"14":{"start":{"line":11,"column":0},"end":{"line":157,"column":12}},"15":{"start":{"line":12,"column":2},"end":{"line":12,"column":33}},"16":{"start":{"line":14,"column":2},"end":{"line":31,"column":4}},"17":{"start":{"line":33,"column":2},"end":{"line":43,"column":3}},"18":{"start":{"line":34,"column":4},"end":{"line":34,"column":23}},"19":{"start":{"line":35,"column":4},"end":{"line":35,"column":27}},"20":{"start":{"line":36,"column":4},"end":{"line":36,"column":83}},"21":{"start":{"line":37,"column":4},"end":{"line":37,"column":62}},"22":{"start":{"line":38,"column":4},"end":{"line":38,"column":75}},"23":{"start":{"line":39,"column":4},"end":{"line":39,"column":59}},"24":{"start":{"line":40,"column":4},"end":{"line":40,"column":58}},"25":{"start":{"line":41,"column":4},"end":{"line":41,"column":53}},"26":{"start":{"line":42,"column":4},"end":{"line":42,"column":25}},"27":{"start":{"line":45,"column":2},"end":{"line":74,"column":4}},"28":{"start":{"line":46,"column":4},"end":{"line":61,"column":14}},"29":{"start":{"line":47,"column":6},"end":{"line":60,"column":8}},"30":{"start":{"line":48,"column":8},"end":{"line":48,"column":19}},"31":{"start":{"line":49,"column":8},"end":{"line":51,"column":9}},"32":{"start":{"line":50,"column":10},"end":{"line":50,"column":17}},"33":{"start":{"line":52,"column":8},"end":{"line":52,"column":42}},"34":{"start":{"line":53,"column":8},"end":{"line":59,"column":9}},"35":{"start":{"line":54,"column":10},"end":{"line":54,"column":44}},"36":{"start":{"line":55,"column":10},"end":{"line":55,"column":36}},"37":{"start":{"line":57,"column":10},"end":{"line":57,"column":29}},"38":{"start":{"line":58,"column":10},"end":{"line":58,"column":30}},"39":{"start":{"line":62,"column":4},"end":{"line":62,"column":102}},"40":{"start":{"line":63,"column":4},"end":{"line":67,"column":14}},"41":{"start":{"line":64,"column":6},"end":{"line":66,"column":8}},"42":{"start":{"line":65,"column":8},"end":{"line":65,"column":52}},"43":{"start":{"line":68,"column":4},"end":{"line":68,"column":61}},"44":{"start":{"line":69,"column":4},"end":{"line":73,"column":14}},"45":{"start":{"line":70,"column":6},"end":{"line":72,"column":8}},"46":{"start":{"line":71,"column":8},"end":{"line":71,"column":75}},"47":{"start":{"line":76,"column":2},"end":{"line":90,"column":4}},"48":{"start":{"line":77,"column":4},"end":{"line":77,"column":20}},"49":{"start":{"line":78,"column":4},"end":{"line":78,"column":49}},"50":{"start":{"line":79,"column":4},"end":{"line":88,"column":5}},"51":{"start":{"line":80,"column":6},"end":{"line":87,"column":7}},"52":{"start":{"line":81,"column":8},"end":{"line":81,"column":46}},"53":{"start":{"line":82,"column":8},"end":{"line":84,"column":9}},"54":{"start":{"line":83,"column":10},"end":{"line":83,"column":28}},"55":{"start":{"line":86,"column":8},"end":{"line":86,"column":63}},"56":{"start":{"line":89,"column":4},"end":{"line":89,"column":36}},"57":{"start":{"line":92,"column":2},"end":{"line":111,"column":4}},"58":{"start":{"line":93,"column":4},"end":{"line":93,"column":13}},"59":{"start":{"line":94,"column":4},"end":{"line":96,"column":5}},"60":{"start":{"line":95,"column":6},"end":{"line":95,"column":19}},"61":{"start":{"line":97,"column":4},"end":{"line":109,"column":5}},"62":{"start":{"line":98,"column":6},"end":{"line":98,"column":31}},"63":{"start":{"line":99,"column":6},"end":{"line":99,"column":27}},"64":{"start":{"line":100,"column":6},"end":{"line":104,"column":16}},"65":{"start":{"line":101,"column":8},"end":{"line":103,"column":10}},"66":{"start":{"line":102,"column":10},"end":{"line":102,"column":73}},"67":{"start":{"line":106,"column":6},"end":{"line":106,"column":27}},"68":{"start":{"line":107,"column":6},"end":{"line":107,"column":102}},"69":{"start":{"line":108,"column":6},"end":{"line":108,"column":35}},"70":{"start":{"line":110,"column":4},"end":{"line":110,"column":60}},"71":{"start":{"line":113,"column":2},"end":{"line":126,"column":4}},"72":{"start":{"line":114,"column":4},"end":{"line":114,"column":33}},"73":{"start":{"line":115,"column":4},"end":{"line":115,"column":97}},"74":{"start":{"line":116,"column":4},"end":{"line":118,"column":5}},"75":{"start":{"line":117,"column":6},"end":{"line":117,"column":23}},"76":{"start":{"line":119,"column":4},"end":{"line":124,"column":5}},"77":{"start":{"line":120,"column":6},"end":{"line":122,"column":7}},"78":{"start":{"line":121,"column":8},"end":{"line":121,"column":20}},"79":{"start":{"line":123,"column":6},"end":{"line":123,"column":29}},"80":{"start":{"line":125,"column":4},"end":{"line":125,"column":16}},"81":{"start":{"line":128,"column":2},"end":{"line":140,"column":4}},"82":{"start":{"line":129,"column":4},"end":{"line":129,"column":20}},"83":{"start":{"line":130,"column":4},"end":{"line":132,"column":5}},"84":{"start":{"line":131,"column":6},"end":{"line":131,"column":13}},"85":{"start":{"line":133,"column":4},"end":{"line":139,"column":5}},"86":{"start":{"line":134,"column":6},"end":{"line":134,"column":50}},"87":{"start":{"line":135,"column":6},"end":{"line":135,"column":66}},"88":{"start":{"line":136,"column":6},"end":{"line":136,"column":36}},"89":{"start":{"line":138,"column":6},"end":{"line":138,"column":65}},"90":{"start":{"line":142,"column":2},"end":{"line":147,"column":4}},"91":{"start":{"line":143,"column":4},"end":{"line":145,"column":5}},"92":{"start":{"line":144,"column":6},"end":{"line":144,"column":28}},"93":{"start":{"line":146,"column":4},"end":{"line":146,"column":15}},"94":{"start":{"line":149,"column":2},"end":{"line":153,"column":4}},"95":{"start":{"line":150,"column":4},"end":{"line":150,"column":13}},"96":{"start":{"line":151,"column":4},"end":{"line":151,"column":37}},"97":{"start":{"line":152,"column":4},"end":{"line":152,"column":36}},"98":{"start":{"line":155,"column":2},"end":{"line":155,"column":21}},"99":{"start":{"line":159,"column":0},"end":{"line":159,"column":29}}},"branchMap":{"1":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":66},"end":{"line":3,"column":66}},{"start":{"line":3,"column":66},"end":{"line":3,"column":66}}]},"2":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":8}},{"start":{"line":49,"column":8},"end":{"line":49,"column":8}}]},"3":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":15},"end":{"line":49,"column":28}},{"start":{"line":49,"column":33},"end":{"line":49,"column":52}}]},"4":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":8},"end":{"line":53,"column":8}},{"start":{"line":53,"column":8},"end":{"line":53,"column":8}}]},"5":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":4}},{"start":{"line":79,"column":4},"end":{"line":79,"column":4}}]},"6":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":6},"end":{"line":80,"column":6}},{"start":{"line":80,"column":6},"end":{"line":80,"column":6}}]},"7":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":8}},{"start":{"line":82,"column":8},"end":{"line":82,"column":8}}]},"8":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":4}},{"start":{"line":94,"column":4},"end":{"line":94,"column":4}}]},"9":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":97,"column":4}},{"start":{"line":97,"column":4},"end":{"line":97,"column":4}}]},"10":{"line":107,"type":"cond-expr","locations":[{"start":{"line":107,"column":51},"end":{"line":107,"column":95}},{"start":{"line":107,"column":98},"end":{"line":107,"column":101}}]},"11":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":116,"column":4}},{"start":{"line":116,"column":4},"end":{"line":116,"column":4}}]},"12":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":6},"end":{"line":120,"column":6}},{"start":{"line":120,"column":6},"end":{"line":120,"column":6}}]},"13":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":4},"end":{"line":130,"column":4}},{"start":{"line":130,"column":4},"end":{"line":130,"column":4}}]},"14":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":10},"end":{"line":130,"column":15}},{"start":{"line":130,"column":19},"end":{"line":130,"column":39}}]},"15":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":4},"end":{"line":133,"column":4}},{"start":{"line":133,"column":4},"end":{"line":133,"column":4}}]},"16":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":4},"end":{"line":143,"column":4}},{"start":{"line":143,"column":4},"end":{"line":143,"column":4}}]}}};
}
__cov_19ZV2etrLUYU6yJ5xYy27g = __cov_19ZV2etrLUYU6yJ5xYy27g['/home/simon/Rails/quill/quill/lib/modules/link-tooltip.js'];
__cov_19ZV2etrLUYU6yJ5xYy27g.s['1']++;var DOM,LinkTooltip,Tooltip,_,__hasProp={}.hasOwnProperty,__extends=function(child,parent){__cov_19ZV2etrLUYU6yJ5xYy27g.f['1']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['2']++;for(var key in parent){__cov_19ZV2etrLUYU6yJ5xYy27g.s['3']++;if(__hasProp.call(parent,key)){__cov_19ZV2etrLUYU6yJ5xYy27g.b['1'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['4']++;child[key]=parent[key];}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['1'][1]++;}}function ctor(){__cov_19ZV2etrLUYU6yJ5xYy27g.f['2']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['6']++;this.constructor=child;}__cov_19ZV2etrLUYU6yJ5xYy27g.s['7']++;ctor.prototype=parent.prototype;__cov_19ZV2etrLUYU6yJ5xYy27g.s['8']++;child.prototype=new ctor();__cov_19ZV2etrLUYU6yJ5xYy27g.s['9']++;child.__super__=parent.prototype;__cov_19ZV2etrLUYU6yJ5xYy27g.s['10']++;return child;};__cov_19ZV2etrLUYU6yJ5xYy27g.s['11']++;_=require('lodash');__cov_19ZV2etrLUYU6yJ5xYy27g.s['12']++;DOM=require('../dom');__cov_19ZV2etrLUYU6yJ5xYy27g.s['13']++;Tooltip=require('./tooltip');__cov_19ZV2etrLUYU6yJ5xYy27g.s['14']++;LinkTooltip=function(_super){__cov_19ZV2etrLUYU6yJ5xYy27g.f['3']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['15']++;__extends(LinkTooltip,_super);__cov_19ZV2etrLUYU6yJ5xYy27g.s['16']++;LinkTooltip.DEFAULTS={maxLength:50,styles:{'.link-tooltip-container':{'padding':'5px 10px'},'.link-tooltip-container input.input':{'width':'170px'},'.link-tooltip-container input.input, .link-tooltip-container a.done, .link-tooltip-container.editing a.url, .link-tooltip-container.editing a.change':{'display':'none'},'.link-tooltip-container.editing input.input, .link-tooltip-container.editing a.done':{'display':'inline-block'}},template:'<span class="title">Visit URL:&nbsp;</span> <a href="#" class="url" target="_blank" href="about:blank"></a> <input class="input" type="text"> <span>&nbsp;&#45;&nbsp;</span> <a href="javascript:;" class="change">Change</a> <a href="javascript:;" class="done">Done</a>'};function LinkTooltip(quill,options){__cov_19ZV2etrLUYU6yJ5xYy27g.f['4']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['18']++;this.quill=quill;__cov_19ZV2etrLUYU6yJ5xYy27g.s['19']++;this.options=options;__cov_19ZV2etrLUYU6yJ5xYy27g.s['20']++;this.options.styles=_.defaults(this.options.styles,Tooltip.DEFAULTS.styles);__cov_19ZV2etrLUYU6yJ5xYy27g.s['21']++;this.options=_.defaults(this.options,Tooltip.DEFAULTS);__cov_19ZV2etrLUYU6yJ5xYy27g.s['22']++;LinkTooltip.__super__.constructor.call(this,this.quill,this.options);__cov_19ZV2etrLUYU6yJ5xYy27g.s['23']++;DOM.addClass(this.container,'link-tooltip-container');__cov_19ZV2etrLUYU6yJ5xYy27g.s['24']++;this.textbox=this.container.querySelector('.input');__cov_19ZV2etrLUYU6yJ5xYy27g.s['25']++;this.link=this.container.querySelector('.url');__cov_19ZV2etrLUYU6yJ5xYy27g.s['26']++;this.initListeners();}__cov_19ZV2etrLUYU6yJ5xYy27g.s['27']++;LinkTooltip.prototype.initListeners=function(){__cov_19ZV2etrLUYU6yJ5xYy27g.f['5']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['28']++;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(_this){__cov_19ZV2etrLUYU6yJ5xYy27g.f['6']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['29']++;return function(range){__cov_19ZV2etrLUYU6yJ5xYy27g.f['7']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['30']++;var anchor;__cov_19ZV2etrLUYU6yJ5xYy27g.s['31']++;if(!((__cov_19ZV2etrLUYU6yJ5xYy27g.b['3'][0]++,range!=null)&&(__cov_19ZV2etrLUYU6yJ5xYy27g.b['3'][1]++,range.isCollapsed()))){__cov_19ZV2etrLUYU6yJ5xYy27g.b['2'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['32']++;return;}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['2'][1]++;}__cov_19ZV2etrLUYU6yJ5xYy27g.s['33']++;anchor=_this._findAnchor(range);__cov_19ZV2etrLUYU6yJ5xYy27g.s['34']++;if(anchor){__cov_19ZV2etrLUYU6yJ5xYy27g.b['4'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['35']++;_this.setMode(anchor.href,false);__cov_19ZV2etrLUYU6yJ5xYy27g.s['36']++;return _this.show(anchor);}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['4'][1]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['37']++;_this.range=null;__cov_19ZV2etrLUYU6yJ5xYy27g.s['38']++;return _this.hide();}};}(this));__cov_19ZV2etrLUYU6yJ5xYy27g.s['39']++;DOM.addEventListener(this.container.querySelector('.done'),'click',_.bind(this.saveLink,this));__cov_19ZV2etrLUYU6yJ5xYy27g.s['40']++;DOM.addEventListener(this.container.querySelector('.change'),'click',function(_this){__cov_19ZV2etrLUYU6yJ5xYy27g.f['8']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['41']++;return function(){__cov_19ZV2etrLUYU6yJ5xYy27g.f['9']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['42']++;return _this.setMode(_this.link.href,true);};}(this));__cov_19ZV2etrLUYU6yJ5xYy27g.s['43']++;this.initTextbox(this.textbox,this.saveLink,this.hide);__cov_19ZV2etrLUYU6yJ5xYy27g.s['44']++;return this.quill.onModuleLoad('toolbar',function(_this){__cov_19ZV2etrLUYU6yJ5xYy27g.f['10']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['45']++;return function(toolbar){__cov_19ZV2etrLUYU6yJ5xYy27g.f['11']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['46']++;return toolbar.initFormat('link',_.bind(_this._onToolbar,_this));};}(this));};__cov_19ZV2etrLUYU6yJ5xYy27g.s['47']++;LinkTooltip.prototype.saveLink=function(){__cov_19ZV2etrLUYU6yJ5xYy27g.f['12']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['48']++;var anchor,url;__cov_19ZV2etrLUYU6yJ5xYy27g.s['49']++;url=this._normalizeURL(this.textbox.value);__cov_19ZV2etrLUYU6yJ5xYy27g.s['50']++;if(this.range!=null){__cov_19ZV2etrLUYU6yJ5xYy27g.b['5'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['51']++;if(this.range.isCollapsed()){__cov_19ZV2etrLUYU6yJ5xYy27g.b['6'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['52']++;anchor=this._findAnchor(this.range);__cov_19ZV2etrLUYU6yJ5xYy27g.s['53']++;if(anchor!=null){__cov_19ZV2etrLUYU6yJ5xYy27g.b['7'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['54']++;anchor.href=url;}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['7'][1]++;}}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['6'][1]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['55']++;this.quill.formatText(this.range,'link',url,'user');}}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['5'][1]++;}__cov_19ZV2etrLUYU6yJ5xYy27g.s['56']++;return this.setMode(url,false);};__cov_19ZV2etrLUYU6yJ5xYy27g.s['57']++;LinkTooltip.prototype.setMode=function(url,edit){__cov_19ZV2etrLUYU6yJ5xYy27g.f['13']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['58']++;var text;__cov_19ZV2etrLUYU6yJ5xYy27g.s['59']++;if(edit==null){__cov_19ZV2etrLUYU6yJ5xYy27g.b['8'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['60']++;edit=false;}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['8'][1]++;}__cov_19ZV2etrLUYU6yJ5xYy27g.s['61']++;if(edit){__cov_19ZV2etrLUYU6yJ5xYy27g.b['9'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['62']++;this.textbox.value=url;__cov_19ZV2etrLUYU6yJ5xYy27g.s['63']++;this.textbox.focus();__cov_19ZV2etrLUYU6yJ5xYy27g.s['64']++;_.defer(function(_this){__cov_19ZV2etrLUYU6yJ5xYy27g.f['14']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['65']++;return function(){__cov_19ZV2etrLUYU6yJ5xYy27g.f['15']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['66']++;return _this.textbox.setSelectionRange(url.length,url.length);};}(this));}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['9'][1]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['67']++;this.link.href=url;__cov_19ZV2etrLUYU6yJ5xYy27g.s['68']++;text=url.length>this.options.maxLength?(__cov_19ZV2etrLUYU6yJ5xYy27g.b['10'][0]++,url.slice(0,this.options.maxLength)+'...'):(__cov_19ZV2etrLUYU6yJ5xYy27g.b['10'][1]++,url);__cov_19ZV2etrLUYU6yJ5xYy27g.s['69']++;DOM.setText(this.link,text);}__cov_19ZV2etrLUYU6yJ5xYy27g.s['70']++;return DOM.toggleClass(this.container,'editing',edit);};__cov_19ZV2etrLUYU6yJ5xYy27g.s['71']++;LinkTooltip.prototype._findAnchor=function(range){__cov_19ZV2etrLUYU6yJ5xYy27g.f['16']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['72']++;var leaf,node,offset,_ref;__cov_19ZV2etrLUYU6yJ5xYy27g.s['73']++;_ref=this.quill.editor.doc.findLeafAt(range.start,true),leaf=_ref[0],offset=_ref[1];__cov_19ZV2etrLUYU6yJ5xYy27g.s['74']++;if(leaf!=null){__cov_19ZV2etrLUYU6yJ5xYy27g.b['11'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['75']++;node=leaf.node;}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['11'][1]++;}__cov_19ZV2etrLUYU6yJ5xYy27g.s['76']++;while(node!=null){__cov_19ZV2etrLUYU6yJ5xYy27g.s['77']++;if(node.tagName==='A'){__cov_19ZV2etrLUYU6yJ5xYy27g.b['12'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['78']++;return node;}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['12'][1]++;}__cov_19ZV2etrLUYU6yJ5xYy27g.s['79']++;node=node.parentNode;}__cov_19ZV2etrLUYU6yJ5xYy27g.s['80']++;return null;};__cov_19ZV2etrLUYU6yJ5xYy27g.s['81']++;LinkTooltip.prototype._onToolbar=function(range,value){__cov_19ZV2etrLUYU6yJ5xYy27g.f['17']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['82']++;var nativeRange;__cov_19ZV2etrLUYU6yJ5xYy27g.s['83']++;if(!((__cov_19ZV2etrLUYU6yJ5xYy27g.b['14'][0]++,range)&&(__cov_19ZV2etrLUYU6yJ5xYy27g.b['14'][1]++,!range.isCollapsed()))){__cov_19ZV2etrLUYU6yJ5xYy27g.b['13'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['84']++;return;}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['13'][1]++;}__cov_19ZV2etrLUYU6yJ5xYy27g.s['85']++;if(value){__cov_19ZV2etrLUYU6yJ5xYy27g.b['15'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['86']++;this.setMode(this._suggestURL(range),true);__cov_19ZV2etrLUYU6yJ5xYy27g.s['87']++;nativeRange=this.quill.editor.selection._getNativeRange();__cov_19ZV2etrLUYU6yJ5xYy27g.s['88']++;return this.show(nativeRange);}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['15'][1]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['89']++;return this.quill.formatText(range,'link',false,'user');}};__cov_19ZV2etrLUYU6yJ5xYy27g.s['90']++;LinkTooltip.prototype._normalizeURL=function(url){__cov_19ZV2etrLUYU6yJ5xYy27g.f['18']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['91']++;if(!/^https?:\/\//.test(url)){__cov_19ZV2etrLUYU6yJ5xYy27g.b['16'][0]++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['92']++;url='http://'+url;}else{__cov_19ZV2etrLUYU6yJ5xYy27g.b['16'][1]++;}__cov_19ZV2etrLUYU6yJ5xYy27g.s['93']++;return url;};__cov_19ZV2etrLUYU6yJ5xYy27g.s['94']++;LinkTooltip.prototype._suggestURL=function(range){__cov_19ZV2etrLUYU6yJ5xYy27g.f['19']++;__cov_19ZV2etrLUYU6yJ5xYy27g.s['95']++;var text;__cov_19ZV2etrLUYU6yJ5xYy27g.s['96']++;text=this.quill.getText(range);__cov_19ZV2etrLUYU6yJ5xYy27g.s['97']++;return this._normalizeURL(text);};__cov_19ZV2etrLUYU6yJ5xYy27g.s['98']++;return LinkTooltip;}(Tooltip);__cov_19ZV2etrLUYU6yJ5xYy27g.s['99']++;module.exports=LinkTooltip;
